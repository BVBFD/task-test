# White-Dark Mode NextJS 혹은 React로 구현

![white-dark-mode](https://github.com/BVBFD/task-test/assets/83178592/4b6f376d-82d1-459e-83ac-67ef6ecc56d9)

React의 ContextAPI를 써서 구현해보았음
코드 context 폴더 부분과 css 부분 특히 참고할 것

#### ThemeContext.tsx

```js
"use client";

import React, { createContext, useContext, useMemo, useState } from "react";

type ThemeContextType = {
  toggle: () => void;
  mode: "light" | "dark";
};

export const ThemeContext = createContext<ThemeContextType>({
  toggle: () => {},
  mode: "light",
});

export const ThemeContextProvider = ({
  children,
}: {
  children: React.ReactNode;
}) => {
  const [mode, setMode] = useState<"light" | "dark">("light");

  const toggle = () => {
    setMode((prev) => (prev === "light" ? "dark" : "light"));
  };

  // useMemo로 감싸서 불필요한 재생성을 방지한 후 결과를 변수에 할당
  const contextValue = useMemo(
    () => ({
      toggle,
      mode,
    }),
    [toggle, mode]
  );

  return (
    <ThemeContext.Provider value={contextValue}>
      <div className={`theme ${mode}`}>{children}</div>
    </ThemeContext.Provider>
  );
};

export const useThemeMode = () => {
  const theme = useContext(ThemeContext);
  return theme;
};
```

### layout.tsx

```js
import type { Metadata } from "next";
import { Inter } from "next/font/google";
import "./globals.css";
import { ThemeContextProvider } from "@/context/ThemeContext";

const inter = Inter({ subsets: ["latin"] });

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en">
      <body className={inter.className}>
        <ThemeContextProvider>{children}</ThemeContextProvider>
      </body>
    </html>
  );
}
```
### page.tsx

```js
"use client";

import { useThemeMode } from "@/context/ThemeContext";
import styles from "./page.module.css";

export default function Home() {
  const { mode, toggle } = useThemeMode();

  return (
    <main className={styles.container}>
      <button
        className={
          mode === "light" ? `${styles.test}` : `${styles.test} ${styles.dark}`
        }
        onClick={toggle}
      >
        {mode === "light" ? "Go To Dark" : "Go To White"}
      </button>
    </main>
  );
}
```
